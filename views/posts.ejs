<!DOCTYPE html>
<html lang="en" data-theme="autumn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('partials/head') %>
    <link rel="stylesheet" href="/css/main.css" />
    <title>Why It Broke</title>
</head>
<body>
    <%- include('partials/navbar', {page:"/posts"}) %>

    <div class="flex flex-col lg:flex-row px-6 gap-6 w-full">
        <%- include('partials/sidebar', {page: '/home'}) %>

        <main class="flex-1 w-full">

        <div class="hero bg-base-200 rounded-lg p-0 h-[150px] overflow-hidden relative">
            <div class="absolute inset-0">
                <img src="/images/bug-banner.jpg" class="w-full h-full object-cover"/>
                <div class="overlay absolute top-0 left-0 w-full h-full bg-black/20"></div>
            </div>
            <div class="hero-content text-center z-10 relative w-full h-full flex items-center justify-center">
            <div class="max-w-md">
                <h1 class="text-4xl font-bold text-white drop-shadow-xl">Bug Board</h1>
            </div>
        </div>
        </div>

        <br />

        <div class="overflow-x-auto overflow-y-hidden">
            <table class="table table-fixed w-full">
                <thead>
                    <tr class="text-center">
                    <th class="w-[18%]">Title</th>
                    <th class="w-[12%]">Language</th>
                    <th class="w-[55%]">Description</th>
                    <th class="w-[15%]">Details</th>
                    </tr>
                </thead>
                <tbody>
                    <% posts.forEach(post => { %>
                    <tr class="hover:bg-base-300 text-center align-middle">
                        <td class="w-[18%]"><%= post.title %></td>
                        <td class="w-[12%]">
                        <a href="/posts/?languageId=<%= post.language._id %>" 
                            class="btn btn-md w-[110px] mx-auto"><%= post.language.name %></a>
                        </td>
                        <td class="w-[55%] truncate"><%= post.description %></td>
                        <td class="w-[15%]">
                        <a href="/posts/<%= post._id %>" 
                            class="btn btn-md w-[110px]">details</a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
            </table>
        </div>
    </main>
    </div>
</body>
</html>
